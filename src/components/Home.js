import React, { useState , useEffect, useRef } from "react";import {	View,	Text,	Image,	TouchableOpacity,	ImageBackground,	KeyboardAvoidingView,	I18nManager,	Dimensions,	ScrollView} from "react-native";import {Container, Button, Form, Input, Toast, Header, Right, Left, Body, Icon, CheckBox} from 'native-base'import styles from '../../assets/styles'import i18n from "../../locale/i18n";import MapView from 'react-native-maps';import  Modal  from "react-native-modal";import COLORS from "../consts/colors";import {useSelector, useDispatch} from 'react-redux';import {getCategories} from '../actions';const width		 = Dimensions.get('window').width;const height	 = Dimensions.get('window').height;function Home({navigation, route}) {	const lang = useSelector(state => state.lang.lang);	const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);	const categories = useSelector(state => state.categories.categories);	const categoriesLoader = useSelector(state => state.categories.loader);	const dispatch = useDispatch();	function fetchData() {		dispatch(getCategories(lang, token))	}	useEffect(() => {		fetchData();		const unsubscribe = navigation.addListener('focus', () => {			fetchData();		});		return unsubscribe;	}, [navigation , categoriesLoader]);	return (		<Container>			<ImageBackground source={require('../../assets/images/menu_bg.png')} style={{ width, height, alignSelf: 'center', flexGrow: 1 }} resizeMode={'cover'}>				<Header style={{ backgroundColor: 'transparent', marginTop: 10, borderBottomWidth: 0 }} noShadow>					<Right style={{ flex: 0, marginLeft: 10 }}>						<TouchableOpacity onPress={() => navigation.openDrawer()} style={{ width: 50, height: 50, justifyCenter: 'center', alignItems: 'center' }}>							<Image source={require('../../assets/images/menu.png')} style={{ width: 27, height: 27, marginTop: 10 }} resizeMode={'contain'}/>						</TouchableOpacity>					</Right>					<Body style={{ alignSelf: 'center', flex: 1 }}>						<Text style={{ textAlign: 'center', width: '100%', color: '#fff', fontSize: 30, fontFamily: 'VIP_cartoon' }}>{ i18n.t('safari') }</Text>					</Body>					<Left style={{ flex: 0 }}>						<TouchableOpacity onPress={() => navigation.navigate('notifications')} style={{ width: 50, height: 50, justifyCenter: 'center', alignItems: 'center' }}>							<Image source={require('../../assets/images/notification.png')} style={{ width: 23, height: 23, marginTop: 10 }} resizeMode={'contain'}/>						</TouchableOpacity>					</Left>				</Header>				<View style={styles.tripHeaderShadow}>					<View style={[styles.tripHeaderImage]}>						<View style={[styles.tripImage ]}>							<View style={[ styles.bg_White, styles.Width_100, styles.position_A, styles.height_90, { zIndex: 0 } ]} />							<Text style={[styles.textSize_15, styles.text_black, styles.textBold, styles.textCenter]}>{ i18n.t('allSecServ') }</Text>							<Text style={[styles.textSize_15, styles.text_black, styles.textBold, styles.textCenter]}>{ i18n.t('allServices') }</Text>						</View>					</View>				</View>				<View style={[styles.mapView , styles.paddingHorizontal_25 , {bottom: -50, paddingTop: 55}]}>					<ScrollView >						{							categories.map((cat, i) => {								return (									<TouchableOpacity key={i} onPress={() => navigation.navigate('services', {category_id:cat.id})}													  style={[styles.Width_100, styles.Radius_15, styles.height_200,														  styles.marginBottom_25,														  {															  overflow: 'hidden',															  justifyContent: 'flex-end',															  alignItems: 'flex-start'														  }]}>										<Image source={{uri:cat.image}}											   style={[{position: 'absolute'} , styles.Width_100 , styles.heightFull]} resizeMode={'cover'}/>										<View											style={[styles.overlay_black, styles.Width_100, styles.position_A, styles.heightFull, styles.flexCenter, {zIndex: 0}]}/>										<Text											style={[styles.textSize_14, styles.text_White, styles.textBold, styles.textCenter, {												marginLeft: 20,												marginBottom: 10											}]}>{cat.name}</Text>									</TouchableOpacity>								)							})						}					</ScrollView>				</View>			</ImageBackground>		</Container>	)}export default Home;